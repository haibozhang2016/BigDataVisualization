<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <!-- 引入 echarts.js -->
    <script type="text/javascript" src="js/echarts.js" ></script>
    <script type="text/javascript" src="js/jquery-3.2.1.js"></script>
</head>
<body>
    <div style="margin: 10px 0px 50px 200px;">
    	<div id="chart" style="width: 600px;height:400px;"></div>
    	<div id="mychart" style="width: 600px;height:400px;"></div>
    </div>
</body>
<script type="text/javascript">
    var chart = echarts.init(document.getElementById("chart"));
    chart.showLoading();
  	$.get('./data/data.json').done(function(data) {
  		chart.hideLoading();
        chart.setOption({ 
       		title: {
       			text: "实时监控图表",
       			textStyle: {
					fontSize: 15,
				}
       		},
	       	tooltip: {},
	        legend: {
	          data:['宽带类业务', "IPTV类业务"]
	        },
       		xAxis: { data: data.date}, 
       		yAxis: {},
       		series: [{ // 根据名字对应到相应的系列
                name: '在线人数',
                type: 'bar',
                data: data.count
       		}]
       });
  	});
  	
  	var myChart = echarts.init(document.getElementById("mychart"));
  	myChart.showLoading();
	$.get('./data/ponData.json', function (ponData) {
	    myChart.hideLoading();
	    option = {
	    	title: {
       			text: "实时监控图表",
       			textStyle: {
					fontSize: 15,
				}
       		},
	        tooltip : {
	            trigger: 'axis',
	            axisPointer: {
	                type: 'shadow',
	                label: {
	                    show: true
	                }
	            }
	        },
	        toolbox: {
	            show : true,
	            feature : {
	                mark : {show: true},  
	                dataView : {show: true, readOnly: false},
	                magicType: {show: true, type: ['line', 'bar']},
	                restore : {show: true},
	                saveAsImage : {show: true}
	            }
	        },
	        calculable : true,
	        legend: {
	        	show: true,
	        	zlevel: 10,
	            data:['宽带业务', 'IPTV业务'],
	            itemGap: 5
	        },
	        grid: {
	            top: '16%',
	            left: '0%',
	            right: '0%',
	            containLabel: true
	        },
	        xAxis: [
	            {
	                type : 'category',
	                data : ponData.date,
	                axisTick: {
	                	show: false
	                },
	                axisLabel:{
		              	rotate: 270, 
		              	textStyle: {
		                 	fontSize: 12
		              	}
		            }
	            }
	        ],
	        yAxis: [
	            {
	                type : 'value',
	                name : '数量',
	                axisTick: {
	                	show: true,
	                	inside: true
	                }
	                /*,axisLabel: {
	                    formatter: function (a) {
	                        a = +a;
	                        return isFinite(a) ? echarts.format.addCommas(+a /1000) : '';
	                    }
	                }*/
	            }
	        ],
	        dataZoom: [
	            {
	                show: true,
	                start: 20,
	                end: 100
	            }
	        ],
	        series : [
	            {
	                name: '宽带',
	                type: 'bar',
	                data: ponData.BD
	            },
	            {
	                name: 'IPTV',
	                type: 'bar',
	                data: ponData.IPTV
	            }
	        ]
	    };
	    myChart.setOption(option);
	});
</script>
</html>